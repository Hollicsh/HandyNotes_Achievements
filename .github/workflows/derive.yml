name: Derive

on:
  workflow_dispatch:

jobs:
  achievement_locations:
    runs-on: ubuntu-latest

    steps:
      - name: checkout
        uses: actions/checkout@v2

      - name: deps
        run: |
          sudo apt-get -qq -y update
          sudo apt-get -y install nodejs npm

      - name: node_modules
        run: |
          find / -name npm -ls
          npm install
        working-directory: Libs/AchievementLocations

      - name: derive
        run: |
          coffee make.coffee
        working-directory: Libs/AchievementLocations

      - name: compare
        run: |
          git diff
        working-directory: Libs/AchievementLocations

